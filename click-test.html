<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hamburger Click Test</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <style>
        /* Force mobile mode always */
        .nav-menu,
        .social-icons,
        .location-info {
            display: none !important;
        }
        
        .apple-menu-toggle {
            display: flex !important;
            background: rgba(255, 0, 0, 0.2) !important; /* Red tint to see it clearly */
            border: 2px solid red !important;
            cursor: pointer !important;
            pointer-events: auto !important;
        }
        
        .apple-menu,
        .apple-menu-overlay {
            display: block !important;
        }
        
        .header .container {
            grid-template-columns: 1fr auto !important;
        }
        
        /* Test overlay to show click areas */
        .click-tester {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 255, 0, 0.1);
            z-index: 999;
            pointer-events: none;
        }
        
        .debug-overlay {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 20px;
            border-radius: 10px;
            font-family: monospace;
            z-index: 3000;
            display: none;
        }
        
        .debug-overlay.show {
            display: block;
        }
        
        .test-log {
            position: fixed;
            bottom: 10px;
            left: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 11px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 2000;
        }
    </style>
</head>
<body>
    <div class="test-log" id="test-log">
        <strong>üîß Hamburger Click Test Log</strong><br>
        <span id="log-content">Loading...</span>
    </div>
    
    <div class="debug-overlay" id="debug-overlay">
        <h3>üçî Hamburger Debug Info</h3>
        <div id="debug-content">Loading...</div>
        <button onclick="closeDebug()" style="margin-top: 10px; padding: 5px 10px;">Close</button>
    </div>

    <header class="header">
        <div class="container">
            <div class="nav-brand">
                <span class="brand-text">PICTURE PERFECT CONSULTING</span>
                <span class="brand-subtitle">CLICK TEST</span>
            </div>
            
            <nav class="nav-menu">
                <a href="#" class="nav-link">This should be hidden</a>
            </nav>

            <div class="social-icons">
                <a href="#" class="social-icon">Hidden</a>
            </div>

            <div class="location-info">
                <span class="location-title">Hidden</span>
            </div>
            
            <!-- HAMBURGER MENU - This is what we're testing -->
            <button class="apple-menu-toggle" aria-label="Open menu" id="test-hamburger">
                <div class="apple-menu-icon">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <div class="click-tester"></div>
            </button>
        </div>
    </header>
    
    <div class="apple-menu-overlay" id="test-overlay"></div>
    
    <nav class="apple-menu" id="test-menu">
        <div class="apple-menu-header">
            <div class="nav-brand">
                <span class="brand-text">MENU OPENED!</span>
                <span class="brand-subtitle">SUCCESS</span>
            </div>
            <button class="apple-menu-close" aria-label="Close menu" id="test-close">
                ‚úï
            </button>
        </div>
        
        <div class="apple-menu-nav">
            <a href="#" class="nav-link">It works!</a>
            <a href="#" class="nav-link">Menu is clickable</a>
            <a href="#" class="nav-link">Success!</a>
        </div>
    </nav>

    <main style="padding: 150px 20px; text-align: center;">
        <h1>üçî Hamburger Click Test</h1>
        <p><strong>The hamburger menu should be visible with a red border and background tint.</strong></p>
        
        <div style="margin: 20px 0; padding: 15px; background: #f0f0f0; border-radius: 8px;">
            <h3>Test Steps:</h3>
            <ol style="text-align: left; max-width: 400px; margin: 0 auto;">
                <li>Look for the red-tinted hamburger button (‚ò∞) in the top right</li>
                <li>Click the hamburger button</li>
                <li>Menu should slide down from the top</li>
                <li>Check the log below for click events</li>
            </ol>
        </div>
        
        <div style="margin: 20px 0; padding: 15px; background: #e3f2fd; border-radius: 8px;">
            <h3>Manual Test Buttons:</h3>
            <button onclick="testClick()" style="background: #007bff; color: white; border: none; padding: 15px 30px; margin: 10px; border-radius: 5px; cursor: pointer;">
                Simulate Hamburger Click
            </button>
            <button onclick="showDebug()" style="background: #6f42c1; color: white; border: none; padding: 15px 30px; margin: 10px; border-radius: 5px; cursor: pointer;">
                Show Debug Info
            </button>
            <button onclick="forceOpen()" style="background: #28a745; color: white; border: none; padding: 15px 30px; margin: 10px; border-radius: 5px; cursor: pointer;">
                Force Open Menu
            </button>
        </div>
    </main>

    <script src="assets/js/script.js"></script>
    <script>
        let clickCounter = 0;
        
        function log(message) {
            const logContent = document.getElementById('log-content');
            const timestamp = new Date().toLocaleTimeString();
            logContent.innerHTML += `<br>[${timestamp}] ${message}`;
            
            // Auto-scroll to bottom
            const logEl = document.getElementById('test-log');
            logEl.scrollTop = logEl.scrollHeight;
        }
        
        function testClick() {
            const hamburger = document.getElementById('test-hamburger');
            if (hamburger) {
                log('üîò Manually triggering click on hamburger');
                hamburger.click();
            } else {
                log('‚ùå Hamburger element not found');
            }
        }
        
        function forceOpen() {
            const menu = document.getElementById('test-menu');
            const overlay = document.getElementById('test-overlay');
            const hamburger = document.getElementById('test-hamburger');
            
            if (menu && overlay) {
                menu.classList.add('active');
                overlay.classList.add('active');
                if (hamburger) hamburger.classList.add('active');
                document.body.style.overflow = 'hidden';
                log('üîì Menu force opened');
            } else {
                log('‚ùå Menu elements not found');
            }
        }
        
        function showDebug() {
            const hamburger = document.getElementById('test-hamburger');
            const overlay = document.getElementById('debug-overlay');
            const content = document.getElementById('debug-content');
            
            if (hamburger) {
                const rect = hamburger.getBoundingClientRect();
                const styles = window.getComputedStyle(hamburger);
                
                content.innerHTML = `
                    <p><strong>Element:</strong> ${hamburger.tagName}</p>
                    <p><strong>ID:</strong> ${hamburger.id}</p>
                    <p><strong>Classes:</strong> ${hamburger.className}</p>
                    <p><strong>Position:</strong> ${rect.left.toFixed(1)}, ${rect.top.toFixed(1)}</p>
                    <p><strong>Size:</strong> ${rect.width.toFixed(1)} √ó ${rect.height.toFixed(1)}</p>
                    <p><strong>Display:</strong> ${styles.display}</p>
                    <p><strong>Z-index:</strong> ${styles.zIndex}</p>
                    <p><strong>Pointer Events:</strong> ${styles.pointerEvents}</p>
                    <p><strong>Cursor:</strong> ${styles.cursor}</p>
                    <p><strong>Disabled:</strong> ${hamburger.disabled}</p>
                `;
                
                overlay.classList.add('show');
                log('üìä Debug info displayed');
            } else {
                log('‚ùå Cannot show debug - hamburger not found');
            }
        }
        
        function closeDebug() {
            document.getElementById('debug-overlay').classList.remove('show');
        }
        
        // Track ALL click events on the page
        document.addEventListener('click', function(e) {
            clickCounter++;
            const target = e.target;
            const path = e.composedPath ? e.composedPath() : [];
            
            log(`üñ±Ô∏è Click #${clickCounter}: ${target.tagName}${target.id ? '#' + target.id : ''}${target.className ? '.' + target.className.split(' ')[0] : ''}`);
            
            // Special handling for hamburger clicks
            if (target.closest('.apple-menu-toggle')) {
                log('üçî HAMBURGER CLICKED! This should open the menu.');
            }
        }, true);
        
        // Track touch events for mobile
        document.addEventListener('touchstart', function(e) {
            const target = e.target;
            if (target.closest('.apple-menu-toggle')) {
                log('üëÜ HAMBURGER TOUCHED (touchstart)');
            }
        }, true);
        
        // Monitor hamburger element specifically
        document.addEventListener('DOMContentLoaded', function() {
            const hamburger = document.getElementById('test-hamburger');
            
            if (hamburger) {
                log('‚úÖ Hamburger element found and ready');
                
                // Add direct event listeners for testing
                hamburger.addEventListener('click', function(e) {
                    log('üéØ DIRECT click event on hamburger fired!');
                });
                
                hamburger.addEventListener('mousedown', function(e) {
                    log('üñ±Ô∏è Mouse down on hamburger');
                });
                
                hamburger.addEventListener('mouseup', function(e) {
                    log('üñ±Ô∏è Mouse up on hamburger');
                });
                
            } else {
                log('‚ùå Hamburger element NOT FOUND');
            }
            
            log('üöÄ Click test page loaded and ready');
        });
        
        // Monitor for menu state changes
        const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.target.classList && mutation.target.classList.contains('apple-menu')) {
                    if (mutation.target.classList.contains('active')) {
                        log('üì± MENU OPENED - Success!');
                    } else {
                        log('üì± Menu closed');
                    }
                }
            });
        });
        
        // Start observing
        const menu = document.getElementById('test-menu');
        if (menu) {
            observer.observe(menu, { attributes: true, attributeFilter: ['class'] });
        }
    </script>
</body>
</html>